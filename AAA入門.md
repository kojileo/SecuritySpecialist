# AAA入門

## AAAとは

AAA（Authentication, Authorization, Accounting）は、**ネットワークセキュリティの3つの基本要素**を表す用語です。ユーザーの身元確認から利用状況の記録まで、包括的なアクセス制御とセキュリティ管理を提供します。

## AAAの3つの要素

### 1. Authentication（認証）

**「あなたは誰ですか？」**を確認するプロセス

#### 基本概念
- **身元確認**: ユーザーの身元を証明
- **本人確認**: 本人であることを確認
- **信頼性**: 確実な認証方法の提供

#### 認証方式

| 方式 | 説明 | 例 |
|------|------|-----|
| **パスワード認証** | ユーザー名とパスワード | ログイン画面 |
| **多要素認証** | 複数の認証要素を組み合わせ | パスワード + SMS |
| **生体認証** | 指紋、顔認証など | スマートフォンのロック解除 |
| **証明書認証** | デジタル証明書を使用 | 企業ネットワーク接続 |

### 2. Authorization（認可）

**「何をしても良いですか？」**を決定するプロセス

#### 基本概念
- **権限付与**: 適切な権限の付与
- **アクセス制御**: リソースへのアクセス制御
- **最小権限の原則**: 必要最小限の権限のみ付与

#### 権限レベル

| レベル | 説明 | 例 |
|--------|------|-----|
| **管理者権限** | 全システムへの完全アクセス | システム管理者 |
| **一般ユーザー権限** | 基本的な機能へのアクセス | 一般社員 |
| **ゲスト権限** | 制限された機能のみ | 来客用アカウント |
| **読み取り専用** | データの閲覧のみ | レポート閲覧者 |

### 3. Accounting（アカウンティング）

**「何をしましたか？」**を記録するプロセス

#### 基本概念
- **利用記録**: ユーザーの行動を記録
- **監査証跡**: セキュリティ監査のための証跡
- **課金管理**: 利用料金の計算

#### 記録される情報

| 情報 | 説明 | 例 |
|------|------|-----|
| **ログイン情報** | いつ、どこからログインしたか | 2024/01/15 09:30 本社PC |
| **アクセス履歴** | どのリソースにアクセスしたか | ファイルAを閲覧、データベースBを更新 |
| **操作記録** | どのような操作を行ったか | ユーザー追加、設定変更 |
| **セッション情報** | 接続時間、データ転送量 | 2時間接続、100MB転送 |

## AAAの実装方式

### 1. RADIUS（Remote Authentication Dial-In User Service）

#### 特徴
- **集中管理**: 1つのサーバーで複数デバイスを管理
- **標準プロトコル**: 広く採用されている
- **拡張性**: カスタム属性の追加可能

#### 構成例
```
クライアント → ネットワーク機器 → RADIUSサーバー
```

#### 使用例
- 企業のWi-Fi認証
- VPN接続の認証
- ネットワーク機器の管理

### 2. TACACS+（Terminal Access Controller Access Control System Plus）

#### 特徴
- **Cisco独自**: Cisco機器で広く使用
- **分離された処理**: 認証、認可、アカウンティングを分離
- **暗号化**: 全通信を暗号化

#### RADIUSとの違い

| 項目 | RADIUS | TACACS+ |
|------|--------|---------|
| **プロトコル** | UDP | TCP |
| **暗号化** | パスワードのみ | 全通信 |
| **処理分離** | 統合 | 分離 |
| **主な用途** | 一般的な認証 | Cisco機器管理 |

### 3. LDAP（Lightweight Directory Access Protocol）

#### 特徴
- **ディレクトリサービス**: 階層的な情報管理
- **標準化**: 広く採用されている
- **柔軟性**: 様々なアプリケーションで使用

#### 使用例
- Active Directory
- ユーザー情報管理
- アプリケーション認証

## 実際の使用例

### 1. 企業ネットワーク

```
認証: 社員証 + パスワード
認可: 部署別のアクセス権限
アカウンティング: 全アクセスログの記録
```

**設定例**:
- 営業部: 顧客データベースへの読み書き
- 経理部: 財務システムへのアクセス
- 一般社員: 共有フォルダへの読み取りのみ

### 2. クラウドサービス

```
認証: 多要素認証（パスワード + SMS）
認可: サービス別の利用権限
アカウンティング: 利用量の記録と課金
```

**例**: AWS、Azure、Google Cloud

### 3. モバイルアプリ

```
認証: 生体認証 + PIN
認可: アプリ機能へのアクセス制御
アカウンティング: 利用状況の分析
```

## セキュリティ上の重要性

### 1. 不正アクセスの防止

- **認証の強化**: 強固な認証方式の採用
- **権限の最小化**: 必要最小限の権限のみ付与
- **監視の徹底**: 異常なアクセスの検出

### 2. コンプライアンス対応

- **監査証跡**: 規制要件への対応
- **アクセスログ**: セキュリティ監査の実施
- **データ保護**: 個人情報の適切な管理

### 3. インシデント対応

- **原因調査**: セキュリティインシデントの原因特定
- **影響範囲**: 被害の拡大範囲の把握
- **再発防止**: 対策の効果検証

## 実装時の注意点

### セキュリティ考慮事項

| 項目 | 注意点 | 対策 |
|------|--------|------|
| **パスワード管理** | 弱いパスワードの使用 | 強固なパスワードポリシー |
| **通信の暗号化** | 平文での認証情報送信 | TLS/SSLの使用 |
| **ログの保護** | ログの改ざん・削除 | ログの暗号化・バックアップ |
| **権限の管理** | 過剰な権限の付与 | 定期的な権限見直し |

### 運用上の注意

- **定期的な監査**: 権限とアクセス状況の確認
- **ログの分析**: 異常なアクセスの検出
- **教育・訓練**: ユーザーのセキュリティ意識向上
- **システム更新**: セキュリティパッチの適用

## まとめ

AAAは**ネットワークセキュリティの基盤**となる重要な概念です。認証、認可、アカウンティングの3つの要素を適切に実装することで、安全で信頼性の高いシステムを構築できます。

現代のIT環境では、多様な認証方式、細かな権限管理、包括的なログ記録が求められており、AAAの理解と適切な実装がセキュリティの成功の鍵となります。

---

*この資料はネットワークセキュリティの基礎学習用です。実際の設定や運用では、詳細な技術仕様書を参照してください。*
